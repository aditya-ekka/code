"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6410],{82616:(e,t,s)=>{s.d(t,{JX:()=>o,uE:()=>a,vZ:()=>u});var l=s(13814),r=s(98031);let i=(e,t)=>{var s;if(!t&&!e)return;if(!e)return t;let l=t??{},r=l.headers??{};return{...l,headers:{...r,cookie:e.headers.cookie??"","X-CSRFToken":(null===(s=e.cookies)||void 0===s?void 0:s.csrftoken)??""}}};class n{constructor(e){this.headers={"content-type":"application/json"},this.baseUrl="",this.baseUrl=e}request(e,t,s){return this.rawRequest(e,t,s).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()})}rawRequest(e,t,s){let r=i(s,t);return fetch(`${this.baseUrl}${e}`,{headers:new Headers({...this.headers,"X-CSRFToken":(0,l.Qm)()}),credentials:"same-origin",...r})}requestHeaders(e,t){return this.headers={...this.headers,...null==t?void 0:t.headers},this.request(e,null==t?void 0:t.settings)}}let a=new n(""),o=new n(r.uJ);new n(r.uJ);let u={favoriteLists:e=>`/api/problems/favorite_lists/${e}/`,problems:e=>`/api/problems/${e}/`,problemsFilter:e=>`/problems/api/filter-questions/${encodeURIComponent(e)}`,problemsList:"/problems/api/favorites/",problemsTags:"/problems/api/tags/",problemsCategories:"/problems/api/card-info/",banner:e=>`/api/banner/${e}/`,session:"/session/",virtualContestStart:e=>`/contest/api/${e}/virtual_participate`,runcodeTaskEnqueue:e=>`/problems/${e}/interpret_solution/`,runcodeResult:e=>`/submissions/detail/${e}/check/`,submitTaskEnqueue:e=>`/problems/${e}/submit/`,submitResult:e=>`/submissions/detail/${e}/check/`,memoryDistribution:e=>`/submissions/api/memory_distribution/${e}/`,runtimeDistribution:e=>`/submissions/api/runtime_distribution/${e}/`,lastSubmittedCode:(e,t)=>`/submissions/latest/?qid=${e}&lang=${t}`,contestRuncodeTaskEnqueue:(e,t)=>`/contest/api/${e}/problems/${t}/interpret_solution/`,contestSubmitTaskEnqueue:(e,t)=>`/contest/api/${e}/problems/${t}/submit/`,contestInfo:e=>`/contest/api/info/${e}/`,contestRankingTop:e=>{let{contestTitleSlug:t,region:s}=e;return`/contest/api/ranking/${t}/?region=${s}&top=true`},contestRankingPage:e=>{let{contestTitleSlug:t,pagination:s=1,region:l}=e;return`/contest/api/ranking/${t}/?pagination=${s}&region=${l}`},contestMyRanking:(e,t)=>`/contest/api/myranking/${e}/?region=${t}`,contestSubmission:e=>`/api/submissions/${e}/`,contestSubmissionReportStatus:e=>`/contest/api/reports/submissions/${e}/`,contestSubmissionReport:"/contest/api/reports/",student:"/student/api/",studentDiscount:"/student/api/24discount/",subscribeCheckout:"/subscription/add_card_and_checkout/",isChinaIp:"/api/is_china_ip/",ctdidToken:"/accounts/ctdid/o/token/",subscription:"/subscription/premium_info/",subscriptionAddCard:"/subscription/card/",subscriptionReactivate:"/subscription/reactivate/",subscriptionCancel:"/subscription/cancel/",subscriptionBillHistory:"/subscription/billing_history/",subscriptionRefund:"/subscription/check_refund/",subscriptionSubmitRefund:"/subscription/refund/",subscriptionRedeem:e=>`/store/api/redeem_premium_email/${e}/`}},93127:(e,t,s)=>{s.d(t,{F:()=>r});var l=s(74848);s(96540);let r=function(e){let{ref:t,...s}=e;return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t,...s,children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M18.995 4.824A3 3 0 0016 2H6l-.176.005A3 3 0 003 5v14l.005.176A3 3 0 006 22h4l.117-.007A1 1 0 0010 20H6l-.117-.007A1 1 0 015 19V5l.007-.117A1 1 0 016 4h10l.117.007A1 1 0 0117 5v6l.007.117A1 1 0 0019 11V5l-.005-.176zM12 13a1 1 0 00-1-1H8a1 1 0 100 2h3a1 1 0 001-1zm3-4a1 1 0 00-1-1H8a1 1 0 000 2h6a1 1 0 001-1zm.572 12.85l4.933-2.979a1.014 1.014 0 000-1.742l-4.933-2.98a1.042 1.042 0 00-.539-.149c-.57 0-1.033.457-1.033 1.02v5.959c0 .188.053.372.152.532a1.04 1.04 0 001.42.34z",clipRule:"evenodd"})})}},81272:(e,t,s)=>{s.d(t,{D:()=>a});var l=s(74848);s(96540);var r=s(3519),i=s(82479),n=s(36768);let a=e=>{let{ref:t,tooltipText:s,children:a,onClick:o,className:u,disabled:c,tooltipPlacement:d="left"}=e;return s?(0,l.jsx)(r.m_,{label:s,isDisabled:c,placement:d,children:(0,l.jsx)("div",{ref:t,onClick:o,className:(0,i.xF)("p-[1px]",{"cursor-pointer":!c},u),children:a})}):(0,l.jsx)("div",{ref:t,className:(0,i.xF)("group cursor-pointer rounded p-1",n.MY.fill2Hover,u),onClick:o,children:a})}},13847:(e,t,s)=>{s.d(t,{N:()=>h});var l=s(74848),r=s(96540),i=s(84038),n=s(82479),a=s(27064),o=s(56844),u=s(85730),c=s(36768),d=s(53921);let h=e=>{let{paramType:t,visible:s,onCancel:h,data:f}=e,[m,g]=(0,r.useState)(!1),{t:p}=(0,i.Bd)("console");return(0,l.jsx)(a.a,{visible:s,closable:!1,className:"w-full bg-transparent dark:bg-transparent",noShadow:!0,onCancel:h,renderPrefixChildren:[m?(0,l.jsx)("div",{className:"absolute left-1/2 top-[52px] -translate-x-3/4",children:(0,l.jsx)(o.D,{content:p("fullTreeTooBig"),type:"info",className:c.MY.label2})},"too-big"):void 0,(0,l.jsx)("button",{onClick:h,className:(0,n.xF)("absolute right-[52px] top-[52px] h-10 w-10 cursor-pointer rounded-full transition-all",c.MY.bgPaper,c.MY.fill3Hover),children:(0,l.jsx)(u.x,{className:(0,n.xF)("h-6 w-10",c.MY.label2)})},"close-btn")],children:(0,l.jsx)(d.w,{data:f,paramType:t,onTruncateChange:g,className:"max-h-full w-full",maxDepth:10})})}},33932:(e,t,s)=>{s.d(t,{Cm:()=>l,Ug:()=>r,lw:()=>i,rY:()=>m});let l=-1,r=1,i=0,n=/[^a-zA-Z0-9]/,a=/\s/,o=/[\r\n]/,u=/\n\r?\n$/,c=/^\r?\n\r?\n/,d=(e,t)=>{if(!e||!t)return 6;let s=e.charAt(e.length-1),l=t.charAt(0),r=s.match(n),i=l.match(n),d=r&&s.match(a),h=i&&l.match(a),f=d&&s.match(o),m=h&&l.match(o),g=f&&e.match(u),p=m&&t.match(c);return g||p?5:f||m?4:r&&!d&&h?3:d||h?2:r||i?1:0},h=(e,t)=>{for(let s=0;s<e.length;s++){let l=e[s][1],r=[];for(let e=0;e<l.length;e++)r[e]=t[l.charCodeAt(e)];e[s][1]=r.join("")}},f=(e,t)=>{let s=e.length,l=t.length;if(0==s||0==l)return 0;s>l?e=e.substring(s-l):s<l&&(t=t.substring(0,s));let r=Math.min(s,l);if(e==t)return r;let i=0,n=1;for(;;){let s=e.substring(r-n),l=t.indexOf(s);if(-1==l)return i;n+=l,(0==l||e.substring(r-n)==t.substring(0,n))&&(i=n,n++)}};class m{constructor(){this.Diff_Timeout=1,this.Diff_EditCost=4}diff_main(e,t){let s=!(arguments.length>2)||void 0===arguments[2]||arguments[2],l=arguments.length>3?arguments[3]:void 0;void 0===l&&(l=this.Diff_Timeout<=0?Number.MAX_VALUE:new Date().getTime()+1e3*this.Diff_Timeout);let r=l;if(null==e||null==t)throw Error("Null input. (diff_main)");if(e==t)return e?[[i,e]]:[];let n=this.diff_commonPrefix(e,t),a=e.substring(0,n);e=e.substring(n),t=t.substring(n),n=this.diff_commonSuffix(e,t);let o=e.substring(e.length-n);e=e.substring(0,e.length-n),t=t.substring(0,t.length-n);let u=this.diff_compute_(e,t,s,r);return a&&u.unshift([i,a]),o&&u.push([i,o]),this.diff_cleanupMerge(u),u}diff_compute_(e,t,s,n){if(!e)return[[r,t]];if(!t)return[[l,e]];let a=e.length>t.length?e:t,o=e.length>t.length?t:e,u=a.indexOf(o);if(-1!=u){let s=[[r,a.substring(0,u)],[i,o],[r,a.substring(u+o.length)]];return e.length>t.length&&(s[0][0]=s[2][0]=l),s}if(1==o.length)return[[l,e],[r,t]];let c=this.diff_halfMatch_(e,t);if(c){let e=c[0],t=c[1],l=c[2],r=c[3],a=c[4],o=this.diff_main(e,l,s,n),u=this.diff_main(t,r,s,n);return o.concat([[i,a]],u)}return s&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,n):this.diff_bisect_(e,t,n)}diff_lineMode_(e,t,s){let n=this.diff_linesToChars_(e,t);e=n.chars1,t=n.chars2;let a=n.lineArray,o=this.diff_main(e,t,!1,s);h(o,a),this.diff_cleanupSemantic(o),o.push([i,""]);let u=0,c=0,d=0,f="",m="";for(;u<o.length;){switch(o[u][0]){case r:d++,m+=o[u][1];break;case l:c++,f+=o[u][1];break;case i:if(c>=1&&d>=1){o.splice(u-c-d,c+d),u=u-c-d;let e=this.diff_main(f,m,!1,s);for(let t=e.length-1;t>=0;t--)o.splice(u,0,e[t]);u+=e.length}d=0,c=0,f="",m=""}u++}return o.pop(),o}diff_bisect_(e,t,s){let i=e.length,n=t.length,a=Math.ceil((i+n)/2),o=2*a,u=Array(o),c=Array(o);for(let e=0;e<o;e++)u[e]=-1,c[e]=-1;u[a+1]=0,c[a+1]=0;let d=i-n,h=d%2!=0,f=0,m=0,g=0,p=0;for(let l=0;l<a&&!(new Date().getTime()>s);l++){for(let r=-l+f;r<=l-m;r+=2){let g=a+r,p=r==-l||r!=l&&u[g-1]<u[g+1]?u[g+1]:u[g-1]+1,x=p-r;for(;p<i&&x<n&&e.charAt(p)==t.charAt(x);)p++,x++;if(u[g]=p,p>i)m+=2;else if(x>n)f+=2;else if(h){let l=a+d-r;if(l>=0&&l<o&&-1!=c[l]&&p>=i-c[l])return this.diff_bisectSplit_(e,t,p,x,s)}}for(let r=-l+g;r<=l-p;r+=2){let f=a+r,m=r==-l||r!=l&&c[f-1]<c[f+1]?c[f+1]:c[f-1]+1,x=m-r;for(;m<i&&x<n&&e.charAt(i-m-1)==t.charAt(n-x-1);)m++,x++;if(c[f]=m,m>i)p+=2;else if(x>n)g+=2;else if(!h){let l=a+d-r;if(l>=0&&l<o&&-1!=u[l]){let r=u[l],n=a+r-l;if(r>=(m=i-m))return this.diff_bisectSplit_(e,t,r,n,s)}}}}return[[l,e],[r,t]]}diff_bisectSplit_(e,t,s,l,r){let i=e.substring(0,s),n=t.substring(0,l),a=e.substring(s),o=t.substring(l),u=this.diff_main(i,n,!1,r),c=this.diff_main(a,o,!1,r);return u.concat(c)}diff_linesToChars_(e,t){let s=[],l={};s[0]="";let r=e=>{let t="",r=0,i=-1,n=s.length;for(;i<e.length-1;){-1==(i=e.indexOf("\n",r))&&(i=e.length-1);let a=e.substring(r,i+1);r=i+1,(l.hasOwnProperty?l.hasOwnProperty(a):void 0!==l[a])?t+=String.fromCharCode(l[a]):(t+=String.fromCharCode(n),l[a]=n,s[n++]=a)}return t};return{chars1:r(e),chars2:r(t),lineArray:s}}diff_commonPrefix(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;let s=0,l=Math.min(e.length,t.length),r=l,i=0;for(;s<r;)e.substring(i,r)==t.substring(i,r)?i=s=r:l=r,r=Math.floor((l-s)/2+s);return r}diff_commonSuffix(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;let s=0,l=Math.min(e.length,t.length),r=l,i=0;for(;s<r;)e.substring(e.length-r,e.length-i)==t.substring(t.length-r,t.length-i)?i=s=r:l=r,r=Math.floor((l-s)/2+s);return r}diff_halfMatch_(e,t){let s,l,r,i,n;if(this.Diff_Timeout<=0)return null;let a=e.length>t.length?e:t,o=e.length>t.length?t:e;if(a.length<4||2*o.length<a.length)return null;let u=(e,t,s)=>{let l,r,i,n;let a=e.substring(s,s+Math.floor(e.length/4)),o=-1,u="";for(;-1!=(o=t.indexOf(a,o+1));){let a=this.diff_commonPrefix(e.substring(s),t.substring(o)),c=this.diff_commonSuffix(e.substring(0,s),t.substring(0,o));u.length<c+a&&(u=t.substring(o-c,o)+t.substring(o,o+a),l=e.substring(0,s-c),r=e.substring(s+a),i=t.substring(0,o-c),n=t.substring(o+a))}return 2*u.length>=e.length?[l,r,i,n,u]:null},c=u(a,o,Math.ceil(a.length/4)),d=u(a,o,Math.ceil(a.length/2));return c||d?(s=d?c&&c[4].length>d[4].length?c:d:c,e.length>t.length?(l=s[0],r=s[1],i=s[2],n=s[3]):(i=s[0],n=s[1],l=s[2],r=s[3]),[l,r,i,n,s[4]]):null}diff_cleanupSemantic(e){let t=!1,s=[],n=0,a=null,o=0,u=0,c=0,d=0,h=0;for(;o<e.length;)e[o][0]==i?(s[n++]=o,u=d,c=h,d=0,h=0,a=e[o][1]):(e[o][0]==r?d+=e[o][1].length:h+=e[o][1].length,a&&a.length<=Math.max(u,c)&&a.length<=Math.max(d,h)&&(e.splice(s[n-1],0,[l,a]),e[s[n-1]+1][0]=r,n--,o=--n>0?s[n-1]:-1,u=0,c=0,d=0,h=0,a=null,t=!0)),o++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),o=1;o<e.length;){if(e[o-1][0]==l&&e[o][0]==r){let t=e[o-1][1],s=e[o][1],n=f(t,s),a=f(s,t);n>=a?(n>=t.length/2||n>=s.length/2)&&(e.splice(o,0,[i,s.substring(0,n)]),e[o-1][1]=t.substring(0,t.length-n),e[o+1][1]=s.substring(n),o++):(a>=t.length/2||a>=s.length/2)&&(e.splice(o,0,[i,t.substring(0,a)]),e[o-1][0]=r,e[o-1][1]=s.substring(0,s.length-a),e[o+1][0]=l,e[o+1][1]=t.substring(a),o++),o++}o++}}diff_cleanupSemanticLossless(e){let t=1;for(;t<e.length-1;){if(e[t-1][0]==i&&e[t+1][0]==i){let s=e[t-1][1],l=e[t][1],r=e[t+1][1],i=this.diff_commonSuffix(s,l);if(i){let e=l.substring(l.length-i);s=s.substring(0,s.length-i),l=e+l.substring(0,l.length-i),r=e+r}let n=s,a=l,o=r,u=d(s,l)+d(l,r);for(;l.charAt(0)===r.charAt(0);){s+=l.charAt(0),l=l.substring(1)+r.charAt(0),r=r.substring(1);let e=d(s,l)+d(l,r);e>=u&&(u=e,n=s,a=l,o=r)}e[t-1][1]!=n&&(n?e[t-1][1]=n:(e.splice(t-1,1),t--),e[t][1]=a,o?e[t+1][1]=o:(e.splice(t+1,1),t--))}t++}}diff_cleanupEfficiency(e){let t=!1,s=[],n=0,a=null,o=0,u=!1,c=!1,d=!1,h=!1;for(;o<e.length;)e[o][0]==i?(e[o][1].length<this.Diff_EditCost&&(d||h)?(s[n++]=o,u=d,c=h,a=e[o][1]):(n=0,a=null),d=h=!1):(e[o][0]==l?h=!0:d=!0,a&&(u&&c&&d&&h||a.length<this.Diff_EditCost/2&&u+c+d+h==3)&&(e.splice(s[n-1],0,[l,a]),e[s[n-1]+1][0]=r,n--,a=null,u&&c?(d=h=!0,n=0):(o=--n>0?s[n-1]:-1,d=h=!1),t=!0)),o++;t&&this.diff_cleanupMerge(e)}diff_cleanupMerge(e){let t;e.push([i,""]);let s=0,n=0,a=0,o="",u="";for(;s<e.length;)switch(e[s][0]){case r:a++,u+=e[s][1],s++;break;case l:n++,o+=e[s][1],s++;break;case i:n+a>1?(0!==n&&0!==a&&(0!==(t=this.diff_commonPrefix(u,o))&&(s-n-a>0&&e[s-n-a-1][0]==i?e[s-n-a-1][1]+=u.substring(0,t):(e.splice(0,0,[i,u.substring(0,t)]),s++),u=u.substring(t),o=o.substring(t)),0!==(t=this.diff_commonSuffix(u,o))&&(e[s][1]=u.substring(u.length-t)+e[s][1],u=u.substring(0,u.length-t),o=o.substring(0,o.length-t))),0===n?e.splice(s-a,n+a,[r,u]):0===a?e.splice(s-n,n+a,[l,o]):e.splice(s-n-a,n+a,[l,o],[r,u]),s=s-n-a+(n?1:0)+(a?1:0)+1):0!==s&&e[s-1][0]==i?(e[s-1][1]+=e[s][1],e.splice(s,1)):s++,a=0,n=0,o="",u=""}""===e[e.length-1][1]&&e.pop();let c=!1;for(s=1;s<e.length-1;)e[s-1][0]==i&&e[s+1][0]==i&&(e[s][1].substring(e[s][1].length-e[s-1][1].length)==e[s-1][1]?(e[s][1]=e[s-1][1]+e[s][1].substring(0,e[s][1].length-e[s-1][1].length),e[s+1][1]=e[s-1][1]+e[s+1][1],e.splice(s-1,1),c=!0):e[s][1].substring(0,e[s+1][1].length)==e[s+1][1]&&(e[s-1][1]+=e[s+1][1],e[s][1]=e[s][1].substring(e[s+1][1].length)+e[s+1][1],e.splice(s+1,1),c=!0)),s++;c&&this.diff_cleanupMerge(e)}}},79548:(e,t,s)=>{s.d(t,{c:()=>a});var l=s(44745),r=s(87134),i=s(30545),n=s(34874);let a=(0,l.vt)((0,r.kg)({expanded:!1,activeTab:i.n.Testcase,visualiserEnabled:!0,enableRawTestcase:!0,testcaseMode:localStorage.getItem(n.Yr)??n.Q1.Tab,testResultMode:localStorage.getItem(n.bG)??n.Q1.Tab,testResultModeFocusLine:0,testResultModeFocusCase:0,testResultModeFocusCaseParam:"",hasShownSourceModePopover:localStorage.getItem(i.As)??!1,showInconsistentResultPopover:!1,consolePosition:localStorage.getItem(i.KQ)??i.M3.Right,enableRunCode:!0,enableSubmit:!0,enableTestMode:!1,enableDebugger:!0,editor:null,showAiChat:!1,isHiddenConsole:!1,isVerifyEmailModalVisible:!1,verifyEmailModalSource:void 0},(e,t)=>({setExpanded:t=>e(e=>({...e,expanded:t})),setActiveTab:t=>e(e=>({...e,activeTab:t})),setVisualiserEnabled:t=>e(e=>({...e,visualiserEnabled:t})),setEnableRawTestcase:t=>e(e=>({...e,enableRawTestcase:t})),toggleTestcaseMode:function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.Yr,l=t().testcaseMode===n.Q1.Tab?n.Q1.Text:n.Q1.Tab,r=t().hasShownSourceModePopover;return localStorage.setItem(s,l),l===n.Q1.Text&&(localStorage.setItem(i.As,String(!0)),r=!0),e(e=>({...e,testcaseMode:l,hasShownSourceModePopover:r}))},setTestcaseMode:t=>e(e=>({...e,testcaseMode:t})),toggleTestResultMode:()=>{let s=t().testResultMode===n.Q1.Tab?n.Q1.Text:n.Q1.Tab;return localStorage.setItem(n.bG,s),e(e=>({...e,testResultMode:s}))},setTestResultMode:t=>e(e=>({...e,testResultMode:t})),setTestResultModeLine:t=>e(e=>({...e,testResultModeFocusLine:t})),setTestResultModeCase:t=>e(e=>({...e,testResultModeFocusCase:t})),setTestResultModeCaseParam:t=>e(e=>({...e,testResultModeFocusCaseParam:t})),setShownSourceModePopover:()=>(localStorage.setItem(i.As,String(!0)),e(e=>({...e,hasShownSourceModePopover:!0}))),setShowInconsistentResultPopover:t=>e(e=>({...e,showInconsistentResultPopover:t})),toggleInconsistentResult:()=>{let s=!t().showInconsistentResultPopover;return e(e=>({...e,showInconsistentResultPopover:s}))},toggleConsolePosition:()=>{let s=t().consolePosition===i.M3.Right?i.M3.Left:i.M3.Right;return localStorage.setItem(i.KQ,s),e(e=>({...e,consolePosition:s}))},setEnableRunCode:t=>e(e=>({...e,enableRunCode:t})),setEnableSubmit:t=>e(e=>({...e,enableSubmit:t})),setEnableTestMode:t=>e(e=>({...e,enableTestMode:t})),setEnableDebugger:t=>e(e=>({...e,enableDebugger:t})),setEditor:t=>e(e=>({...e,editor:t})),setShowAiChat:t=>e(e=>({...e,showAiChat:t})),setIsHiddenConsole:t=>e(e=>({...e,isHiddenConsole:t})),setIsVerifyEmailModalVisible:(t,s)=>e(e=>({...e,isVerifyEmailModalVisible:t,verifyEmailModalSource:s}))})))},53921:(e,t,s)=>{s.d(t,{w:()=>M});var l=s(74848),r=s(96540),i=s(84038),n=s(82479),a=s(41811),o=s(60067);class u{constructor(e=1e3){this.clear(),this.max=e,this.first=0,this.last=0,this.data=[]}head(){if(this.first!==this.last)return this.data[this.first%this.max]}enqueue(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];for(let e=0,s=t.length;e<s;e++){if(this.isFull())throw Error(`[Enqueue Failure]: Queue is full.(${this.max})`);this.data[this.last++%this.max]=t[e]}}dequeue(){if(!this.isEmpty())return this.data[this.first++%this.max]}isFull(){return this.last-this.first===this.max}isEmpty(){return void 0===this.head()}clear(){this.data=[],this.first=0,this.last=0}}class c{constructor(e){this.val=e,this.left=null,this.right=null}}let d=o.B22(),h={name:"",isNull:!0,depth:0,width:0,children:null},f={name:"...",depth:0,children:[h,h],isNull:!1,width:1},m=(e,t,s)=>{let l=[e],r=!1,i=1;for(;l.length>0;){let e=[],n=0;for(let e of l)e.children&&(n+=e.children.filter(e=>!e.isNull).length);if(i+1>=t||n>s){for(let e of l)e.children&&(e.children=e.children.map(e=>!e.isNull&&e.children.filter(e=>!e.isNull).length>0?(r=!0,f):e));break}for(let t of l)t.children&&e.push(...t.children.filter(e=>!e.isNull));l=e,i++}let n=e=>{if(e.isNull)return e;e.children.forEach(n),e.depth=e.children.reduce((e,t)=>Math.max(e,t.depth),0)+1;let t=e.children.reduce((e,t)=>e+t.width,0);return e.width=t<2?t+1:t,e};return[n(e),r]},g=(0,a.default)((e,t,s)=>{let l=JSON.parse(e);if(!Array.isArray(l))throw Error();let[r,i]=m(function e(t){let s=null===t,l={children:null,name:s?"":t.val.toString(),isNull:s,depth:0,width:0};if(s)return l;let r=e(t.left),i=e(t.right),n=Math.max(r.depth,i.depth)+1,a=r.width+i.width;return l.children=[r,i],l.depth=n,l.width=a<2?a+1:a,l}(function(e){let t,s,l;if(!Array.isArray(e))throw TypeError("Cannot parse a non-array type.");if(0===e.length)return null;if(null===e[0])throw Error("Root of Tree cannot be `null`.");let r=new u,i=new c(e[0]);r.enqueue(i);let n=0;for(;!r.isEmpty();)t=r.dequeue(),s=e[n+1],l=e[n+2],t.left=null==s?null:new c(s),t.right=null==l?null:new c(l),t.left&&r.enqueue(t.left),t.right&&r.enqueue(t.right),n+=2;return i}(l)),t,s);return!function(e){d.size([40*e.width+40*e.depth/6,40*e.depth])}(r),{isTruncated:i,rootNode:d(o.Sk5(r))}}),p=(e,t,s)=>{let[l,i]=(0,r.useState)(null),[n,a]=(0,r.useState)(!1),[o,u]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{try{let l=g(e,t,s);i(l.rootNode),u(!1),l.isTruncated?a(!0):a(!1)}catch(e){u(!0)}},[e,t,s]),{lastValidTree:l,isTreeTruncated:n,isParseFailed:o}};var x=s(32485),b=s.n(x);let v={width:400,height:400},w=e=>{let{className:t="",dimensions:s=v,rootNode:i}=e,n=(0,r.useRef)(null),a=(0,r.useRef)(null);if(null===i)return null;let o=i.descendants().reduce((e,t)=>e.y>t.y?e:t),u=i.descendants().reduce((e,t)=>e.x>t.x?e:t),{width:c,height:d}=s;c||(c=u.x),d||(d=o.y+25);let h=b()({"data-structure-viewer":!0,[t]:!!t});return(0,l.jsx)("div",{className:h,children:(0,l.jsx)("svg",{width:c,height:d,viewBox:`0 0 ${c} ${d}`,preserveAspectRatio:"xMinYMin",ref:n,children:(0,l.jsx)("g",{transform:`translate(${c/2-i.x}, 25)`,children:(0,l.jsxs)("g",{ref:a,children:[null===i?null:i.descendants().slice(1).filter(e=>!e.data.isNull).map((e,t)=>(0,l.jsx)("line",{className:"stroke-dark-paper dark:stroke-paper stroke-1",x1:e.parent?e.parent.x:void 0,y1:e.parent?e.parent.y:void 0,x2:e.x,y2:e.y},t)),null===i?null:i.descendants().filter(e=>!e.data.isNull).map((e,t)=>(0,l.jsxs)("g",{transform:`translate(${e.x}, ${e.y})`,children:[(0,l.jsx)("circle",{r:"1.2em",className:"fill-layer-1 stroke-dark-paper dark:fill-dark-layer-1 dark:stroke-paper stroke-1"}),(0,l.jsx)("foreignObject",{width:"2.4em",height:"2.4em",x:"-1.2em",y:"-1.2em",children:(0,l.jsx)("div",{className:"text-label-1 dark:text-dark-label-1 flex h-full w-full items-center justify-center p-[2px]",children:(0,l.jsx)("span",{className:"overflow-ellipsis",title:e.data.name,children:e.data.name})})})]},t))]})})})})};var j=s(31261),T=s(30545);let y=e=>e>1700?32:e>1300?16:e>700?8:e>400?4:2,M=e=>{let{data:t,paramType:s,onErrorChange:a,className:o,onTruncateChange:u,maxDepth:c=5}=e,{t:d}=(0,i.Bd)("console"),[h,f]=(0,r.useState)(null),m=(0,j.s)(h),g=(null==m?void 0:m.width)?m.width-10:400,{lastValidTree:x,isTreeTruncated:b,isParseFailed:v}=p(t,c||1/0,y(g));return((0,r.useEffect)(()=>{let e="";null==u||u(b),v&&(e=d("visualizer.parseFailed")),null==a||a(e)},[d,u,a,b,v]),s===T.Cz.Tree)?(0,l.jsx)("div",{ref:f,className:(0,n.xF)("max-h-[350px] min-h-[100px] overflow-x-auto overflow-y-hidden",o),children:(0,l.jsx)(w,{rootNode:x,dimensions:{width:g}})}):null}},42619:(e,t,s)=>{s.d(t,{ht:()=>H,Vg:()=>q,kT:()=>Q,Pn:()=>L,zZ:()=>z,YW:()=>P});var l=s(74848),r=s(84038),i=s(96540),n=s(36698),a=s(3519),o=s(36768),u=s(72556),c=s(82479),d=s(22331),h=s(93127),f=s(96807),m=s(15440),g=s(25800),p=s(64011),x=s(25810),b=s(63628),v=s(62598),w=s(30045),j=s(52993),T=s(28877),y=s(44249),M=s(50201),_=s(79548),k=s(30545);let N=(e,t)=>{for(let s=0;s<e.length;s++){let l=e[s];for(let e=0;e<l.length;e++)if(t===l[e])return{matchedTestcase:s,matchedParam:e}}return{matchedTestcase:-1,matchedParam:0}},S=(e,t,s)=>({matchedTestcase:void 0!==t&&t<e.length?t:-1,matchedParam:void 0!==s?s:0}),A=e=>{var t;let{failedTestcase:s,testcaseIndex:n,paramIndex:a,onClick:u}=e,{t:d}=(0,r.Bd)("console",{keyPrefix:"result"}),h=(0,M.r)(e=>e.setActiveTestcaseWithParam),f=(0,_.c)(e=>e.setActiveTab),m=!!(null===(t=(0,T.x)())||void 0===t?void 0:t.data),g=(0,b.U)(),p=(0,M.r)(e=>e.testcaseList),x=(0,i.useMemo)(()=>Array.isArray(p)&&p.length>0&&Array.isArray(p[0]),[p]),w=(0,i.useMemo)(()=>x?p:[],[x,p]),{matchedTestcase:j,matchedParam:A}=(0,i.useMemo)(()=>{let{matchedTestcase:e,matchedParam:t}=S(w,n,a);return -1!==e?{matchedTestcase:e,matchedParam:t}:void 0!==s?N(w,s):{matchedTestcase:-1,matchedParam:0}},[w,s,a,n]),C=(0,i.useCallback)(()=>{-1!==j&&(h(j,A),m?null==g||g.selectTab(v.mA.Testcase):f(k.n.Testcase),null==u||u())},[j,h,A,m,u,g,f]);return -1===j?null:(0,l.jsxs)("div",{className:"flex items-center text-xs font-medium",children:[(0,l.jsxs)("div",{className:(0,c.xF)("flex-1",o.MY.label3),children:["Case ",j+1]}),(0,l.jsxs)("div",{className:(0,c.xF)("flex cursor-pointer items-center gap-1 px-2 py-1 transition-colors",o.MY.label2,o.MY.label1Hover),onClick:C,children:[(0,l.jsx)(y.f,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:d("edit")})]})]})};var C=s(42484),F=s(53921),R=s(13847),E=s(33932),$=s(81272),Y=s(62805);let P=e=>{let{testcasePassed:t,totalTestcases:s}=e,{t:i}=(0,r.Bd)("console");return void 0===t||void 0===s?null:(0,l.jsxs)("div",{className:(0,c.xF)("text-xs",o.MY.label3),children:[(0,l.jsx)("span",{className:(0,c.xF)(o.MY.label3,"mr-1 text-xs font-medium"),children:`${t} / ${s} `}),i("result.testcasesPassed")]})},q=e=>{let{input:t,questionSlug:s}=e,{t:a}=(0,r.Bd)("console"),u=(0,p.j_)(e=>e.questionSlug),f=s??u,x=(0,b.U)(),w=(0,g.v)(f).data,j=(0,M.r)(e=>e.addTestcase),T=!(0,M.r)(e=>e.canAddTestcase)(),y=(0,M.r)(e=>e.testcaseList),_=(0,M.r)(e=>e.setActiveTestcase),k=w.metaData,N=(0,i.useMemo)(()=>(0,C.vK)(k),[k]).type,S=(0,Y.Ax)(N,[t])[0],A=(0,i.useCallback)(()=>{let e=y.findIndex(e=>(0,n.A)(e,S));-1===e?j(S,N):_(e),null==x||x.selectTab(v.mA.Testcase),null==x||x.unfoldTab(v.mA.Testcase),null==x||x.highlightTab(v.mA.Testcase),m.L.qdQuickTestClick({qd_version:(0,d.Su)(),qd_question_slug:f})},[x,j,f,_,S,y,N]);return(0,l.jsx)($.D,{tooltipText:T?a("result.cantUseTestcaseAsInput"):void 0,onClick:T?void 0:A,children:(0,l.jsxs)("div",{className:(0,c.xF)("flex items-center","flex-row-reverse"),children:[(0,l.jsx)("span",{className:(0,c.xF)("text-xs",{[o.MY.label4]:T,[o.MY.label2]:!T,testcaseAsInputClass:"ml-2"}),children:a("result.useTestcaseAsInput")}),(0,l.jsx)(h.F,{width:16,height:16,className:(0,c.xF)("fill-gray-6 dark:fill-dark-gray-6",{"group-hover:fill-gray-7 dark:group-hover:fill-dark-gray-7":!T,"cursor-not-allowed":T})})]})})},I=e=>{let{diffs:t}=e;return(0,l.jsx)(l.Fragment,{children:t.map((e,t)=>{let[s,r]=e;switch(s){case E.Ug:return(0,l.jsx)("span",{className:"leading-3.5 text-green-s dark:text-dark-green-s ",children:r},t);case E.Cm:return(0,l.jsx)("span",{className:"leading-3.5 text-red-s dark:text-dark-red-s",children:r},t);default:return(0,l.jsx)("span",{children:r},t)}})})},B=e=>{let{diffs:t}=e,s=(0,i.useMemo)(()=>{let e=t.length;if(!e)return[];let s=[(0,l.jsx)(I,{diffs:t[0]},0)];for(let r=1;r<e;r++)s.push((0,l.jsx)("br",{},`br_${r}`)),s.push((0,l.jsx)(I,{diffs:t[r]},r));return s},[t]);return(0,l.jsx)(l.Fragment,{children:s})},D=e=>{let{content:t,...s}=e,{t:n}=(0,r.Bd)("console"),a=(0,i.useMemo)(()=>{if(t.length<=1e3)return t;let e=t.split("\n").map(e=>e.length<=1e3?e:`${e.substring(0,1e3)}...`);if(e.length<=1e5)return e.join("\n");let s=e.length-1e5;return e.slice(0,1e5).join("\n")+`
... ${s} ${n("result.moreLine",{count:s})}`},[n,t]);return(0,l.jsx)(w.E6,{...s,children:(0,l.jsx)("div",{children:a})})},V=e=>{let{paramName:t,content:s,paramType:n,visualiserEnabled:a,visualiserSupported:h,diffs:f,diffEnabled:g}=e,[x,b]=(0,i.useState)(""),v=x&&a,j=h&&a,T=j&&v,y=!j,{t:M}=(0,r.Bd)("console"),_=(0,i.useMemo)(()=>{if(!f)return[];let e=[],t=0;return f.forEach(s=>{if(t>1e3)return;let l=[];s.forEach(e=>{let[s,r]=e;t>1e3||((t+=r.length)>1e3?(l.push([s,r.slice(0,1e3-t)]),l.push([E.lw,"..."])):l.push([s,r]))}),e.push(l)}),e},[f]),k=_&&_.reduce((e,t)=>e+t.length,0)>0,[N,S]=(0,i.useState)(!1),[A,C]=(0,i.useState)(!1),$=(0,p.j_)(e=>e.questionSlug),Y=(0,u._)(()=>{m.L.qdCheckAllTreeClick({qd_version:(0,d.Su)(),qd_question_slug:$}),C(!0)});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:(0,c.xF)("group relative rounded-lg",{[o.MY.fill4]:!a,[o.MY.dividerBorder2]:a,"border-[1px]":a,"outline-red-s dark:outline-dark-red-s outline outline-1":v}),children:(0,l.jsxs)("div",{className:"relative py-3",children:[j&&(0,l.jsx)(F.w,{data:s,paramType:n,onErrorChange:b,className:(0,c.xF)({"invisible absolute top-0":v}),onTruncateChange:S}),T&&(0,l.jsx)(D,{header:(0,l.jsxs)(l.Fragment,{children:[" ",t&&(0,l.jsxs)("div",{className:(0,c.xF)("mx-3 mb-2 text-xs",o.MY.label3),children:[t," ="]})]}),lines:8,showViewAll:!0,content:s,copyValue:s,copyBtnClassName:"absolute right-0 top-0",truncatedResultClassName:(0,c.xF)("font-menlo mx-3 whitespace-pre-wrap leading-5 break-all",o.MY.label1)}),y&&(0,l.jsx)(l.Fragment,{children:g&&k?(0,l.jsxs)("div",{className:(0,c.xF)("font-menlo relative mx-3 whitespace-pre-wrap break-all leading-5",o.MY.label1),children:[(0,l.jsx)(w.fR,{copyValue:s,className:"absolute right-0 top-0"}),(0,l.jsx)(B,{diffs:_})]}):(0,l.jsx)(D,{header:(0,l.jsx)(l.Fragment,{children:t&&(0,l.jsxs)("div",{className:(0,c.xF)("mx-3 mb-2 text-xs",o.MY.label3),children:[t," ="]})}),lines:8,showViewAll:!0,content:s,copyValue:s,copyBtnClassName:"absolute right-3 top-2.5 z-base-1",truncatedResultClassName:(0,c.xF)("font-menlo mx-3 whitespace-pre-wrap break-all leading-5",o.MY.label1)})})]})}),j&&(0,l.jsxs)(l.Fragment,{children:[N&&(0,l.jsx)("div",{className:(0,c.xF)("cursor-pointer text-xs",o.MY.labelBlueStandard),onClick:Y,children:M("showFullTree")}),N&&(0,l.jsx)(R.N,{visible:A,onCancel:()=>C(!1),data:s,paramType:n})]}),v&&(0,l.jsx)(w.Ix,{children:(0,l.jsx)("div",{className:(0,c.xF)("text-xs",o.MY.labelRedStandard),children:x})})]})},L=e=>{let{metadata:t,input:s,visualise:r}=e,[i,n,a,o]=(0,C.yo)(t,s);return(0,l.jsx)("div",{className:"space-y-2",children:n.map((e,t)=>(0,l.jsx)(V,{paramName:t<i.length?i[t]:"",content:e,paramType:t<a.length?a[t]:"",visualiserSupported:t<o.length&&o[t],visualiserEnabled:r,diffEnabled:!1},t))})},Q=e=>{let{t}=(0,r.Bd)("console");return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:(0,c.xF)("mb-2 text-xs font-medium",o.MY.label3),children:t("result.input")}),(0,l.jsx)(L,{...e})]})},z=e=>{var t;let{heading:s,metadata:i,output:n,diffs:u,visualise:d,diffEnabled:h}=e,{t:m}=(0,r.Bd)("console"),g=(null==i?void 0:i.type)===x.yo.Algorithm&&(null===(t=i.return)||void 0===t?void 0:t.type)||"",p=(null==i?void 0:i.type)===x.yo.Algorithm&&k.zi[i.type]&&(0,C.EL)(g);return(0,l.jsxs)("div",{className:"flex h-full w-full flex-col space-y-2",children:[(0,l.jsx)("div",{className:(0,c.xF)("flex text-xs font-medium",o.MY.label3),children:s}),(0,l.jsx)(V,{paramName:"",content:n,paramType:g,visualiserSupported:p,visualiserEnabled:!!d,diffEnabled:!!h,diffs:u}),!p&&!!d&&(0,l.jsxs)("div",{className:"flex flex-row items-center",children:[(0,l.jsx)(a.m_,{label:m("visualizer.outputDataTypeNotSupported"),children:(0,l.jsx)(f.G,{width:14,height:14,className:(0,c.xF)(o.MY.labelGrey6,o.MY.labelGrey7Hover)})}),(0,l.jsx)("div",{className:(0,c.xF)("ml-1.5 text-xs",o.MY.label3),children:m("visualizer.dataNotSupported")})]})]})},H=e=>{let{heading:t,errorMessage:s,stdout:n,testcasesPassed:a,totalTestcases:u,children:d,testcaseIndex:f,paramIndex:m,invalidTestcase:x,passedButTookTooLong:y,className:N,exceptionalTestcase:S,errorLines:F,errorClassName:R,questionSlug:E}=e,{t:$}=(0,r.Bd)("console"),Y=(0,i.useMemo)(()=>{if(x)return(0,C._3)(s||"")},[x,s]),q=(0,p.j_)(e=>e.questionSlug),I=(0,p.j_)(e=>e.isDynamicLayout),B=(0,g.v)(E||q).data.metaData,D=(0,i.useMemo)(()=>(0,C.vK)(B),[B]),V=(0,M.r)(e=>e.setActiveTestcaseWithParam),Q=(0,_.c)(e=>e.setActiveTab),{data:z}=(0,T.x)(),H=(0,b.U)(),U=(0,i.useCallback)(()=>{S&&!(S.testcaseIndex<0)&&(V(S.testcaseIndex,S.paramIndex),z?(null==H||H.selectTab(v.mA.Testcase),null==H||H.unfoldTab(v.mA.Testcase),null==H||H.highlightTab(v.mA.Testcase)):Q(k.n.Testcase))},[H,S,z,Q,V]);return(0,l.jsxs)("div",{className:(0,c.xF)("mx-5 my-4 space-y-4",{"space-y-2":void 0!==f},N),children:[t&&(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)("div",{className:"flex w-full flex-wrap items-center",children:[(0,l.jsx)("span",{className:(0,c.xF)("mr-2 whitespace-nowrap text-xl font-medium",o.MY.labelRedStandard,{"mr-1 flex-1":I}),"data-e2e-locator":"console-result",children:t}),(0,l.jsx)(P,{testcasePassed:a,totalTestcases:u})]})}),y&&(0,l.jsx)("div",{className:(0,c.xF)(o.MY.fill4,o.MY.labelRedStandard,"mb-4 flex w-full flex-col gap-4 rounded-lg px-3 py-2 text-xs"),children:$("result.testPassedButTookTooLong")}),x&&(0,l.jsx)("div",{children:(0,l.jsx)(A,{failedTestcase:Y,testcaseIndex:f,paramIndex:m})}),s&&(0,l.jsx)("div",{className:(0,c.xF)("group relative rounded-lg bg-[rgba(246,54,54,0.08)] px-3 py-4 dark:bg-[rgba(248,97,92,0.08)]",R),children:(0,l.jsx)(w.E6,{showViewAll:!0,copyValue:s,copyBtnClassName:"absolute right-2.5 top-2.5",lines:F,children:(0,l.jsx)("div",{className:(0,c.xF)("font-menlo whitespace-pre-wrap break-all text-xs",j.B8.labelRed60),children:s})})}),d,n&&(0,l.jsxs)("div",{className:"flex h-full w-full flex-col space-y-2 rounded-lg",children:[(0,l.jsx)("div",{className:(0,c.xF)("flex flex-row text-[12px] font-medium",j.B8.labelTextTertiary),children:(0,l.jsx)("span",{children:$("result.stdout")})}),(0,l.jsx)("div",{className:(0,c.xF)("relative rounded-lg px-3 py-[10px]",j.B8.bgFillQuaternary),children:(0,l.jsx)("div",{className:(0,c.xF)("font-menlo group w-full resize-none whitespace-pre-wrap break-all rounded-lg text-sm leading-5"),children:(0,l.jsx)(w.E6,{copyValue:n,showViewAll:!0,showOpenRaw:!0,copyBtnClassName:"absolute right-2.5 top-2.5",title:$("result.stdout"),children:(0,l.jsx)("div",{children:n})})})})]}),S&&S.failedTestcase&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:(0,c.xF)("mb-2 flex items-center justify-between text-xs font-medium",o.MY.label3),children:[$("result.lastExecutedInput"),(0,l.jsxs)("a",{className:"flex cursor-pointer items-center",onClick:U,children:[$("result.openTestcase"),(0,l.jsx)(h.F,{width:16,height:16,className:(0,c.xF)("fill-gray-6 dark:fill-dark-gray-6 group-hover:fill-gray-7 dark:group-hover:fill-dark-gray-7 ml-1")})]})]}),(0,l.jsx)(L,{metadata:D,input:S.failedTestcase,visualise:!1})]})]})}}}]);